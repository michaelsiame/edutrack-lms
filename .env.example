# ============================================
# EduTrack LMS Environment Configuration
# ============================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!

# --------------------------------------------
# Application Settings
# --------------------------------------------
APP_NAME="Edutrack computer training college"
APP_URL="http://localhost/edutrack-lms/public"
APP_ENV="development"  # development, staging, production
APP_DEBUG=true
APP_TIMEZONE="Africa/Lusaka"

# --------------------------------------------
# Database Configuration
# --------------------------------------------
DB_HOST="localhost"
DB_PORT="3306"
DB_NAME="edutrack_lms"
DB_USER="root"
DB_PASS=""
DB_CHARSET="utf8mb4"

# --------------------------------------------
# Site Information
# --------------------------------------------
SITE_EMAIL="info@edutrack.co.zm"
SITE_PHONE="+260-XXX-XXX-XXX"
SITE_ADDRESS="Lusaka, Zambia"
CURRENCY="ZMW"
CURRENCY_SYMBOL="K"

# --------------------------------------------
# TEVETA Accreditation
# --------------------------------------------
TEVETA_INSTITUTION_CODE="TEVETA/XXX/2024"
TEVETA_INSTITUTION_NAME="Edutrack computer training college"
TEVETA_REGISTRATION_URL="https://www.teveta.org.zm"
TEVETA_VERIFIED=false

# --------------------------------------------
# Email/SMTP Configuration
# --------------------------------------------
# For Gmail: Use App Password (not regular password)
# Enable 2FA and generate app password at: https://myaccount.google.com/apppasswords

MAIL_MAILER="smtp"                    # smtp, sendmail, log
MAIL_HOST="smtp.gmail.com"            # Gmail SMTP
MAIL_PORT=587                          # 587 for TLS, 465 for SSL
MAIL_ENCRYPTION="tls"                  # tls or ssl
MAIL_USERNAME="your-email@gmail.com"
MAIL_PASSWORD="your-app-password"     # Use App Password, not regular password
MAIL_FROM_ADDRESS="your-email@gmail.com"
MAIL_FROM_NAME="Edutrack LMS"
MAIL_REPLY_TO_ADDRESS=""
MAIL_REPLY_TO_NAME=""
MAIL_DISABLE_DELIVERY=false            # Set to true to disable email sending (testing)
MAIL_LOG_ALL=false                     # Log all emails to file

# Alternative SMTP Providers:
# ----------------------------
# Mailgun:
# MAIL_HOST="smtp.mailgun.org"
# MAIL_PORT=587
# MAIL_USERNAME="postmaster@yourdomain.com"
# MAIL_PASSWORD="your-mailgun-password"

# SendGrid:
# MAIL_HOST="smtp.sendgrid.net"
# MAIL_PORT=587
# MAIL_USERNAME="apikey"
# MAIL_PASSWORD="your-sendgrid-api-key"

# --------------------------------------------
# Video Platform Configuration
# --------------------------------------------
# YouTube API (Optional - for video duration, stats)
DEFAULT_VIDEO_PLATFORM="youtube"       # youtube, vimeo, bunny, self-hosted
YOUTUBE_API_KEY=""                     # Get from: https://console.cloud.google.com/apis/credentials
                                       # Enable YouTube Data API v3

# Vimeo API (Optional)
VIMEO_ACCESS_TOKEN=""                  # Get from: https://developer.vimeo.com/apps

# Bunny CDN (Optional - for video hosting)
BUNNY_CDN_URL=""                       # Your Bunny Stream URL
BUNNY_API_KEY=""                       # Get from: https://panel.bunny.net/account/settings

# --------------------------------------------
# Payment Gateway Configuration
# --------------------------------------------
# MTN Mobile Money (Zambia)
MTN_API_URL="https://api.mtn.com/collection"
MTN_API_KEY=""
MTN_API_SECRET=""
MTN_SUBSCRIPTION_KEY=""

# Airtel Money (Zambia)
AIRTEL_API_URL="https://openapi.airtel.africa"
AIRTEL_CLIENT_ID=""
AIRTEL_CLIENT_SECRET=""

# Zamtel Kwacha
ZAMTEL_API_URL=""
ZAMTEL_MERCHANT_ID=""
ZAMTEL_API_KEY=""

# --------------------------------------------
# Social Media Links
# --------------------------------------------
FACEBOOK_URL=""                        # https://facebook.com/yourpage
TWITTER_URL=""                         # https://twitter.com/yourhandle
INSTAGRAM_URL=""                       # https://instagram.com/yourhandle
LINKEDIN_URL=""                        # https://linkedin.com/company/yourcompany
YOUTUBE_URL=""                         # https://youtube.com/c/yourchannel

# --------------------------------------------
# Security & Session
# --------------------------------------------
ENCRYPTION_KEY=""                      # Generate: openssl rand -base64 32
JWT_SECRET=""                          # Generate: openssl rand -base64 64
CSRF_TOKEN_NAME="csrf_token"

SESSION_NAME="edutrack_session"
SESSION_LIFETIME=7200                  # 2 hours in seconds
SESSION_SECURE=false                   # Set true in production with HTTPS
SESSION_HTTPONLY=true
SESSION_SAMESITE="Lax"                 # Lax, Strict, None

# Password Requirements
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_NUMBER=true
PASSWORD_REQUIRE_SPECIAL=false

# --------------------------------------------
# Rate Limiting
# --------------------------------------------
RATE_LIMIT_ENABLED=true
LOGIN_ATTEMPTS_MAX=5
LOGIN_ATTEMPTS_TIMEOUT=900             # 15 minutes

# --------------------------------------------
# Course Settings
# --------------------------------------------
COURSES_PER_PAGE=12
FREE_PREVIEW_LESSONS=2                 # Number of free preview lessons
AUTO_ENROLL_FREE_COURSES=true
CERTIFICATE_AUTO_ISSUE=false           # Auto-issue certificate on completion
MIN_COMPLETION_PERCENTAGE=80
MIN_PASSING_SCORE=70

# --------------------------------------------
# File Upload Settings
# --------------------------------------------
MAX_UPLOAD_SIZE=52428800               # 50MB in bytes
MAX_UPLOAD_SIZE_MB=50
ALLOWED_IMAGE_TYPES="jpg,jpeg,png,gif,webp"
ALLOWED_DOC_TYPES="pdf,doc,docx,xls,xlsx,ppt,pptx,txt"
ALLOWED_VIDEO_TYPES="mp4,avi,mov,wmv"
UPLOAD_PATH="uploads/"

# --------------------------------------------
# Analytics & Tracking
# --------------------------------------------
GOOGLE_ANALYTICS_ID=""                 # G-XXXXXXXXXX or UA-XXXXXXXXX-X
FACEBOOK_PIXEL_ID=""

# --------------------------------------------
# Maintenance Mode
# --------------------------------------------
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="We are currently performing scheduled maintenance. Please check back soon."

# --------------------------------------------
# Logging
# --------------------------------------------
LOG_LEVEL="debug"                      # debug, info, warning, error
LOG_CHANNEL="file"                     # file, syslog

# ============================================
# SETUP INSTRUCTIONS
# ============================================

# 1. DATABASE SETUP
# -----------------
# - Create MySQL database: edutrack_lms
# - Import database schema from SQL file
# - Update DB_* credentials above

# 2. EMAIL SETUP (Gmail)
# ----------------------
# Step 1: Enable 2-Factor Authentication
#   - Go to: https://myaccount.google.com/security
#   - Enable 2-Step Verification
#
# Step 2: Generate App Password
#   - Go to: https://myaccount.google.com/apppasswords
#   - Select "Mail" and "Other (custom name)"
#   - Enter "EduTrack LMS"
#   - Copy the 16-character password
#   - Use this as MAIL_PASSWORD (remove spaces)
#
# Step 3: Update .env
#   MAIL_USERNAME="your-email@gmail.com"
#   MAIL_PASSWORD="abcd efgh ijkl mnop" (your app password)
#   MAIL_FROM_ADDRESS="your-email@gmail.com"

# 3. YOUTUBE VIDEO SETUP
# -----------------------
# Option A: Embed YouTube videos (No API key needed)
#   - Upload videos to YouTube (unlisted or public)
#   - Copy video URL: https://youtube.com/watch?v=VIDEO_ID
#   - Paste URL in course promo_video_url field
#   - The app auto-detects and embeds YouTube videos
#
# Option B: Use YouTube Data API (Optional - for advanced features)
#   - Go to: https://console.cloud.google.com
#   - Create new project or select existing
#   - Enable "YouTube Data API v3"
#   - Create API credentials (API Key)
#   - Add API key to YOUTUBE_API_KEY above
#   - This allows fetching video duration, thumbnails, etc.

# 4. VIMEO VIDEO SETUP (Alternative to YouTube)
# ----------------------------------------------
#   - Upload videos to Vimeo
#   - Get Access Token: https://developer.vimeo.com/apps
#   - Add token to VIMEO_ACCESS_TOKEN above

# 5. PAYMENT GATEWAY SETUP
# -------------------------
# MTN Mobile Money:
#   - Register at: https://momodeveloper.mtn.com
#   - Create app and get credentials
#   - Add to MTN_* variables above
#
# Airtel Money:
#   - Contact Airtel Business: https://openapi.airtel.africa
#   - Get client credentials
#   - Add to AIRTEL_* variables above

# 6. SECURITY KEYS
# ----------------
# Generate encryption keys:
#   openssl rand -base64 32
#   openssl rand -base64 64
# Add to ENCRYPTION_KEY and JWT_SECRET

# 7. PRODUCTION CHECKLIST
# ------------------------
# [ ] Set APP_ENV="production"
# [ ] Set APP_DEBUG=false
# [ ] Set SESSION_SECURE=true (requires HTTPS)
# [ ] Configure real SMTP credentials
# [ ] Add payment gateway credentials
# [ ] Generate strong ENCRYPTION_KEY and JWT_SECRET
# [ ] Enable rate limiting
# [ ] Set up automated backups
# [ ] Configure SSL certificate
# [ ] Add Google Analytics ID (optional)
# [ ] Test all email notifications
# [ ] Test payment flows
# [ ] Test video embedding

# ============================================
# QUICK START (Development)
# ============================================
# 1. Copy this file: cp .env.example .env
# 2. Update database credentials
# 3. Update SITE_EMAIL
# 4. Configure Gmail SMTP (follow step 2 above)
# 5. Test the application locally
